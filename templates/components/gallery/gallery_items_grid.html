<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    {% for image in images %}
        <div>
            <a href="/gallery/{{ image.name }}" 
                class="block bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl
                  transition-all duration-300 ease-in-out transform hover:scale-105">
                <div class="relative w-full h-48">
                    <div class="absolute inset-0 flex items-center justify-center bg-gray-100">
                        <div class="spinner h-8 w-8 border-[4px]"></div>
                    </div>
                    <img src="{{ image.get_url(thumbnail=true) }}" 
                        alt="{{ image.name }}" 
                        class="absolute inset-0 w-full h-full object-cover opacity-0"
                        onload="this.classList.add('opacity-100'); this.previousElementSibling.style.display='none'"
                        style="transition: opacity 0.3s ease-in-out"/>
                </div>
            </a>
        </div>
    {% endfor %}
</div>